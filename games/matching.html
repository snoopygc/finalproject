<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animal Matching Game</title>
    <!-- SweetAlert2 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <style>
        body {
            font-family: 'Verdana', sans-serif;
            background-color: #f7f4f3;
            color: #333;
            text-align: center;
            margin: 0;
            padding: 20px;
        }

        h1 {
            color: #ff4d6d;
            font-size: 36px;
        }

        .input-container {
            margin: 20px auto;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        #playerName {
            padding: 10px;
            font-size: 18px;
            border-radius: 8px;
            border: 2px solid #ff4d6d;
            outline: none;
            width: 250px;
            transition: border-color 0.3s;
        }

        #playerName:focus {
            border-color: #ff6f91;
        }

        #startGameBtn {
            padding: 10px 20px;
            font-size: 18px;
            background-color: #ff4d6d;
            color: #fff;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        #startGameBtn:hover {
            background-color: #ff6f91;
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin: 20px auto;
            max-width: 600px;
            font-size: 24px;
        }

        .game-board {
            display: grid;
            grid-template-columns: repeat(4, 120px);
            grid-gap: 15px;
            justify-content: center;
            margin: 20px auto;
        }

        .card {
            width: 120px;
            height: 120px;
            background-color: #ffc947;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            transition: transform 0.2s, background-color 0.3s;
        }

        .card:hover {
            transform: scale(1.05);
            background-color: #ff5c8a;
        }

        .card.flipped {
            background-color: #6a0572;
            color: #fff;
        }
    </style>
</head>
<body>
    <h1>Animal Matching Game</h1>
    <div class="input-container">
        <input type="text" id="playerName" placeholder="Enter your name">
        <button id="startGameBtn">Start Game</button>
    </div>
    <div class="game-info">
        <div id="scoreBoard">Score: 0</div>
        <div id="timer">Time left: 60s</div>
    </div>
    <div class="game-board" id="gameBoard"></div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            let playerName = '';
            let score = 0;
            let timeLeft = 60;
            let timerInterval;
            const scoreBoard = document.getElementById('scoreBoard');
            const timer = document.getElementById('timer');
            const startGameBtn = document.getElementById('startGameBtn');
            const gameBoard = document.getElementById('gameBoard');

            const cardsArray = [
                { name: 'dog', img: 'ðŸ¶' },
                { name: 'cat', img: 'ðŸ±' },
                { name: 'rabbit', img: 'ðŸ°' },
                { name: 'hamster', img: 'ðŸ¹' },
                { name: 'lion', img: 'ðŸ¦' },
                { name: 'panda', img: 'ðŸ¼' },
                { name: 'frog', img: 'ðŸ¸' },
                { name: 'koala', img: 'ðŸ¨' },
                { name: 'dog', img: 'ðŸ¶' },
                { name: 'cat', img: 'ðŸ±' },
                { name: 'rabbit', img: 'ðŸ°' },
                { name: 'hamster', img: 'ðŸ¹' },
                { name: 'lion', img: 'ðŸ¦' },
                { name: 'panda', img: 'ðŸ¼' },
                { name: 'frog', img: 'ðŸ¸' },
                { name: 'koala', img: 'ðŸ¨' }
            ];

            startGameBtn.addEventListener('click', () => {
                playerName = document.getElementById('playerName').value;
                if (playerName.trim() === '') {
                    alert('Please enter your name to start the game');
                    return;
                }
                startGame();
            });

            function startGame() {
                score = 0;
                timeLeft = 60;
                scoreBoard.textContent = `Score: ${score}`;
                timer.textContent = `Time left: ${timeLeft}s`;
                gameBoard.innerHTML = '';
                matchedCards = [];
                cardsArray.sort(() => 0.5 - Math.random());
                createBoard();
                clearInterval(timerInterval);
                timerInterval = setInterval(countDown, 1000);
            }

            function createBoard() {
                cardsArray.forEach((_, i) => {
                    const card = document.createElement('div');
                    card.setAttribute('data-id', i);
                    card.classList.add('card');
                    card.addEventListener('click', flipCard);
                    gameBoard.appendChild(card);
                });
            }

            let chosenCards = [];
            let chosenCardIds = [];
            let matchedCards = [];

            function flipCard() {
                const cardId = this.getAttribute('data-id');
                if (chosenCardIds.includes(cardId) || matchedCards.includes(cardsArray[cardId].name)) return;

                chosenCards.push(cardsArray[cardId].img);
                chosenCardIds.push(cardId);
                this.textContent = cardsArray[cardId].img;
                this.classList.add('flipped');

                if (chosenCards.length === 2) {
                    setTimeout(checkForMatch, 700);
                }
            }

            function checkForMatch() {
                const cards = document.querySelectorAll('.card');
                const [firstCardId, secondCardId] = chosenCardIds;

                if (chosenCards[0] === chosenCards[1] && firstCardId !== secondCardId) {
                    matchedCards.push(cardsArray[firstCardId].name);
                    cards[firstCardId].style.visibility = 'hidden';
                    cards[secondCardId].style.visibility = 'hidden';
                    score += 10;
                } else {
                    cards[firstCardId].textContent = '';
                    cards[secondCardId].textContent = '';
                    cards[firstCardId].classList.remove('flipped');
                    cards[secondCardId].classList.remove('flipped');
                }

                scoreBoard.textContent = `Score: ${score}`;
                chosenCards = [];
                chosenCardIds = [];

                if (matchedCards.length === cardsArray.length / 2) {
                    clearInterval(timerInterval);
                    setTimeout(showFinalScore, 500);
                }
            }

            function countDown() {
                timeLeft--;
                timer.textContent = `Time left: ${timeLeft}s`;
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    Swal.fire({
                        title: `â³ Time's up, ${playerName}!`,
                        text: `Your final score is: ${score}`,
                        icon: 'info',
                        confirmButtonText: 'Try again',
                        confirmButtonColor: '#ff4d6d'
                    });
                    document.querySelectorAll('.card').forEach(card => {
                        card.removeEventListener('click', flipCard);
                    });
                }
            }

            function showFinalScore() {
                let bonusScore = timeLeft > 20 ? 50 : 0;
                score += bonusScore;
                Swal.fire({
                    title: `ðŸŽ‰ Congratulations, ${playerName}!`,
                    html: `
                        <p>Your final score is: <strong>${score}</strong></p>
                        ${bonusScore > 0 ? `<p style="color: #ff4d6d;">Bonus points: +${bonusScore}</p>` : '<p>No bonus points</p>'}
                    `,
                    icon: 'success',
                    confirmButtonText: 'Awesome!',
                    confirmButtonColor: '#ff4d6d'
                });
            }
        });
    </script>
</body>
</html>
